name: presenterm-to-pages
concurrency: presenterm-to-pages

env:
  PRESENTERM_VERSION: 0.15.1
  WEASYPRINT_VERSION: 67.0

on:
  push:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      pull-requests: write
    steps:

      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v4

      - name: Install presenterm
        uses: taiki-e/install-action@v2.65.15
        with: 
          tool: presenterm@${{ env.PRESENTERM_VERSION }}
      - name: Install weasyprint
        uses: durandtibo/pip-install-package-action@v0.4.0
        with:
          package-name: 'weasyprint'
          package-version: ${{ env.WEASYPRINT_VERSION }}

      - name: Build ğŸ”§
        run: |
          mkdir public

      - name: Deploy ğŸš€
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          folder: public # The folder the action should deploy.
